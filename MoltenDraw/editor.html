<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description"
        content="MoltenDraw — Draw, paint, and create art right in your browser. Part of the MoltenLava creative suite.">
    <title>MoltenDraw</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%23ff5e3a' d='M12 2C12 2 4 8 4 14C4 18.4 7.6 22 12 22C16.4 22 20 18.4 20 14C20 8 12 2 12 2Z'/></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="draw-shell">
        <!-- Top Bar -->
        <header class="top-bar">
            <div class="top-left">
                <a href="index.html" class="top-btn back-btn" title="Back to Hub">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" />
                    </svg>
                </a>
                <div class="dropdown-wrap">
                    <button class="top-btn file-btn" id="fileMenuBtn">
                        <span>File</span>
                    </button>
                    <div class="file-dropdown hidden" id="fileMenu">
                        <div class="file-option" id="btnImportJSON">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z" />
                            </svg>
                            Import JSON
                        </div>
                        <div class="file-option" id="btnExportJSON">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" />
                            </svg>
                            Export JSON
                        </div>
                        <div class="file-divider"></div>
                        <div class="file-option" id="btnExportPNG">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" />
                            </svg>
                            Export PNG
                        </div>
                        <div class="file-divider"></div>
                        <div class="file-option" id="btnNewCanvas">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                            </svg>
                            New Canvas
                        </div>
                    </div>
                </div>
                <div class="top-divider"></div>
                <div class="top-title">
                    <span style="font-weight:700;">Molten</span><span style="font-weight:200;color:#a1a1aa;">Draw</span>
                </div>
            </div>
            <div class="top-right">
                <button class="top-btn" id="btnUndo" title="Undo (Ctrl+Z)">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12.5 8c-2.65 0-5.05 1.04-6.83 2.73L3 8v9h9l-3.17-3.17C10.32 12.7 11.36 12.3 12.5 12.3c3.17 0 5.76 2.35 6.22 5.41l2.28-.46C20.37 13.33 16.8 8 12.5 8z" />
                    </svg>
                </button>
                <button class="top-btn" id="btnRedo" title="Redo (Ctrl+Y)">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M18.4 10.73C16.6 9.04 14.2 8 11.5 8c-4.3 0-7.87 5.33-8.5 9.25l2.28.46c.46-3.06 3.05-5.41 6.22-5.41 1.14 0 2.18.4 2.67 1.53L11 17h9V8l-1.6 2.73z" />
                    </svg>
                </button>
                <div class="top-divider desktop-only"></div>
                <span class="zoom-label desktop-only" id="zoomLabel">100%</span>
                <button class="top-btn desktop-only" id="btnZoomIn" title="Zoom In">+</button>
                <button class="top-btn desktop-only" id="btnZoomOut" title="Zoom Out">−</button>
                <button class="top-btn desktop-only" id="btnZoomReset" title="Reset Zoom">⊙</button>
                <div class="top-divider mobile-only"></div>
                <button class="top-btn mobile-only" id="mobileMenuBtn" title="Settings">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.49.49 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94L14.4 2.81a.49.49 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96a.49.49 0 00-.59.22L2.74 8.87a.49.49 0 00.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6A3.6 3.6 0 1112 8.4a3.6 3.6 0 010 7.2z" />
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Area -->
        <div class="main-area">
            <!-- Tool Strip -->
            <div class="tool-strip" id="toolStrip">
                <button class="tool-btn active" data-tool="pencil" title="Pencil (B)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a1 1 0 000-1.41l-2.34-2.34a1 1 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" />
                    </svg>
                </button>
                <button class="tool-btn" data-tool="pen" title="Pen (P)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M3.55 19.09l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 20h2v3h-2v-3zM1 11h3v2H1v-2zm12-6.95v3.96l1 .58c1.24.72 2 2.04 2 3.46 0 2.21-1.79 4-4 4s-4-1.79-4-4c0-1.42.77-2.74 2-3.46l1-.58V4.05h2zm2-2H9v4.81C7.21 7.9 6 9.83 6 12.05c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19V2.05z" />
                    </svg>
                </button>
                <button class="tool-btn" data-tool="marker" title="Marker (M)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z" />
                    </svg>
                </button>
                <button class="tool-btn" data-tool="highlighter" title="Highlighter (H)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M11 2L5.5 16h2.25l1.12-3h6.25l1.12 3h2.25L13 2h-2zm-1.38 9L12 4.67 14.38 11H9.62z" />
                    </svg>
                </button>
                <div class="tool-divider"></div>
                <button class="tool-btn" data-tool="eraser" title="Eraser (E)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M16.24 3.56l4.95 4.94a1.5 1.5 0 010 2.12l-8.49 8.49a1.5 1.5 0 01-2.12 0L3.56 12.1a1.5 1.5 0 010-2.12l8.49-8.49a1.5 1.5 0 012.12 0l2.07 2.07z" />
                    </svg>
                </button>
                <button class="tool-btn" data-tool="fill" title="Fill (G)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M16.56 8.94L7.62 0 6.21 1.41l2.38 2.38-5.15 5.15a1.49 1.49 0 000 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10L10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5z" />
                    </svg>
                </button>
                <button class="tool-btn" data-tool="eyedropper" title="Eyedropper (I)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M20.71 5.63l-2.34-2.34a1 1 0 00-1.41 0l-3.12 3.12-1.06-1.06-1.41 1.41 1.06 1.06L3 17.25V21h3.75l9.56-9.56 1.06 1.06 1.41-1.41-1.06-1.06 3.12-3.12a1 1 0 00-.13-1.28zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z" />
                    </svg>
                </button>
                <div class="tool-divider"></div>
                <button class="tool-btn" data-tool="move" title="Move (V)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z" />
                    </svg>
                </button>
                <div class="tool-divider"></div>
                <button class="tool-btn" data-tool="rect" title="Rectangle (R)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 5h18v14H3V5zm2 2v10h14V7H5z" />
                    </svg>
                </button>
                <button class="tool-btn" data-tool="ellipse" title="Ellipse (O)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" />
                    </svg>
                </button>
                <button class="tool-btn" data-tool="line" title="Line (L)">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M4.22 19.78a.75.75 0 010-1.06L18.72 4.22a.75.75 0 111.06 1.06L5.28 19.78a.75.75 0 01-1.06 0z" />
                    </svg>
                </button>
            </div>

            <!-- Canvas Container -->
            <div class="canvas-container" id="canvasContainer">
                <div class="canvas-wrapper" id="canvasWrapper">
                    <canvas id="mainCanvas" width="1920" height="1080"></canvas>
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="settings-panel" id="settingsPanel">
                <div class="panel-toggle" id="panelToggle">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 10l5 5 5-5z" />
                    </svg>
                </div>

                <!-- Active Tool -->
                <div class="panel-section" id="toolSettings">
                    <div class="tool-name">Pencil</div>
                </div>

                <!-- Brush Settings -->
                <div class="panel-section">
                    <div class="panel-label">Brush</div>
                    <div class="slider-row">
                        <span class="slider-label">Size</span>
                        <input type="range" id="brushSize" min="1" max="100" value="6" class="slider">
                        <span class="slider-value" id="brushSizeVal">6</span>
                    </div>
                    <div class="slider-row">
                        <span class="slider-label">Opacity</span>
                        <input type="range" id="brushOpacity" min="1" max="100" value="100" class="slider">
                        <span class="slider-value" id="brushOpacityVal">100</span>
                    </div>
                    <div class="slider-row">
                        <span class="slider-label">Smooth</span>
                        <input type="range" id="stabAmount" min="0" max="20" value="8" class="slider">
                        <span class="slider-value" id="stabAmountVal">8</span>
                    </div>
                </div>

                <!-- Color -->
                <div class="panel-section">
                    <div class="panel-label">Color</div>
                    <div class="color-row">
                        <div class="color-well">
                            <input type="color" id="colorPicker" value="#000000">
                        </div>
                        <div class="recent-colors" id="recentColors"></div>
                    </div>
                </div>

                <!-- Layers -->
                <div class="panel-section layers-section">
                    <div class="panel-label">
                        Layers
                        <button class="layer-add-btn" id="addLayerBtn" title="Add Layer">+</button>
                    </div>
                    <div class="layer-list" id="layerList"></div>
                </div>
            </div>
        </div>
    </div>

    <input type="file" id="jsonInput" accept=".json" style="display:none;">
<<<<<<< HEAD
    <script src="../shared_modal.js"></script>
    <script src="draw.js"></script>
</body>

</html>
=======
    <script src="draw.js"></script>
</body>

</html>
>>>>>>> 1fd25a3d3770c0376e20448cbdcafd0540a99ea0
